{"version":3,"sources":["../../src/lib/utils/binaryFloor.js","../../src/lib/constants.js","../../src/lib/components/Bar.js","../../src/lib/components/Line.js","../../src/index.js","../../src/lib/utils/binaryCeil.js","App.js","index.js"],"names":["binaryFloor","number","returnValue","DEFAULT_DIMENSIONS","WIDTH","HEIGHT","CONTROLS_HEIGHT","Object","initialDimensions","constants","getNextId","Tarang","controls","muted","volume","isPlaying","setIsPlaying","useState","canvasId","setCanvasId","dimensions","setDimensions","isControlsVisible","setIsControlsVisible","audioRef","useRef","audioContextRef","audioSrcRef","analyserRef","svgRef","useEffect","clearSvg","isNaN","width","newDimensions","height","getSvgHeightScale","assumedHeight","parseInt","Math","updateSvg","frequencies","_scale","d","i","newStyle","coverArtUrl","console","play","window","audio","Audio","event","bufferLength","Uint8Array","d3","updateFrequencyData","cancelAnimationFrame","requestAnimationFrame","error","createSvg","stop","focusIn","focusOut","onMouseEnter","onFocus","onPointerEnter","onMouseLeave","onBlur","onPointerLeave","style","top","left","position","backgroundColor","id","bottom","right","overflow","onClick","lineFunc","background","utils","App","initialSrcArray","audioUrl","srcArray","updateSrcArray","src","updateSrc","newUrl","setNewUrl","lineControlsVisible","setLineControlsVisible","barControlsVisible","setBarControlsVisible","lineAudioMuted","setLineAudioMuted","barAudioMuted","setBarAudioMuted","lineDimensions","setLineDimensions","barDimensions","setBarDimensions","lineVisualizationUpdating","setLineVisualizationUpdating","barVisualizationUpdating","setBarVisualizationUpdating","getFileName","url","split","length","className","map","srcItem","srcIndex","key","JSON","stringify","type","value","onChange","e","target","placeholder","concat","maxHeight","overflowY","htmlFor","checked","Line","Bar","title","display","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86dc691d.chunk.js","sourcesContent":["function binaryFloor(number) {\n    let returnValue = 1\n    while (number / 2 > 1) {\n        returnValue = returnValue * 2;\n        number = number / 2;\n    }\n    // console.log('returnValue', returnValue)\n    return returnValue;\n}\n\nexport default binaryFloor;\n","const DEFAULT_DIMENSIONS = { WIDTH: 256, HEIGHT: 256, CONTROLS_HEIGHT: 30 }\nObject.freeze(DEFAULT_DIMENSIONS)\n// DEFAULT_DIMENSIONS.prototype.WIDTH = 256\n// DEFAULT_DIMENSIONS.prototype.HEIGHT = 256\n// DEFAULT_DIMENSIONS.prototype.CONTROLS_HEIGHT = 30\n\nexport default {\n    DEFAULT_DIMENSIONS\n}","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport binaryFloor from \"../utils/binaryFloor\";\r\nimport constants from \"../constants\";\r\nconst initialDimensions = constants.DEFAULT_DIMENSIONS\r\nimport * as d3 from 'd3'\r\nimport idman from 'idman';\r\nconst { getNextId } = idman;\r\n\r\nexport default function Bar({ audioUrl, coverArtUrl, width, height, controls = false, muted = false, volume = 0.8 }) {\r\n    // TODO: add state loaded. to check that the user has interacted with the page. so that the autoplay functionality can also be added in future\r\n    const [isPlaying, setIsPlaying] = useState(false)\r\n    const [canvasId, setCanvasId] = useState(getNextId())\r\n    const [dimensions, setDimensions] = useState(initialDimensions)\r\n    const [isControlsVisible, setIsControlsVisible] = useState(true)\r\n    const audioRef = useRef(new Audio())\r\n    const audioContextRef = useRef(null)\r\n    const audioSrcRef = useRef(null);\r\n    const analyserRef = useRef(null);\r\n    const svgRef = useRef(null);\r\n    const BAR_PADDING = 1\r\n\r\n    useEffect(() => {\r\n        setIsControlsVisible(controls)\r\n    }, [controls])\r\n\r\n    useEffect(() => {\r\n        clearSvg()\r\n        if (!isNaN(width) && width != dimensions.WIDTH) {\r\n            setDimensions(newDimensions => {\r\n                return {\r\n                    ...newDimensions,\r\n                    WIDTH: binaryFloor(width)\r\n                }\r\n            });\r\n        }\r\n    }, [width])\r\n\r\n    useEffect(() => {\r\n        clearSvg()\r\n        if (!isNaN(height) && height != dimensions.HEIGHT) {\r\n            if (height > dimensions.CONTROLS_HEIGHT * 2) {\r\n                setDimensions(newDimensions => {\r\n                    return {\r\n                        ...newDimensions,\r\n                        HEIGHT: height\r\n                    }\r\n                });\r\n            } else {\r\n                setDimensions(newDimensions => {\r\n                    return {\r\n                        ...newDimensions,\r\n                        HEIGHT: dimensions.CONTROLS_HEIGHT * 2\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }, [height])\r\n\r\n    useEffect(() => {\r\n        if (audioSrcRef.current && audioContextRef.current) {\r\n            if (!muted) audioSrcRef.current.connect(audioContextRef.current.destination);\r\n            else audioSrcRef.current.disconnect(audioContextRef.current.destination);\r\n        }\r\n    }, [muted])\r\n\r\n    useEffect(() => {\r\n        audioRef.current.volume = volume\r\n    }, [volume])\r\n\r\n    const clearSvg = () => {\r\n        if (svgRef.current) svgRef.current.selectAll(\"*\").remove()\r\n        // console.log(\"clearing svg\")\r\n    }\r\n\r\n    const getSvgHeightScale = () => {\r\n        let assumedHeight = parseInt(dimensions.WIDTH * 0.5)\r\n        let ratio = Math.abs(dimensions.HEIGHT - assumedHeight) / assumedHeight\r\n        // console.log({ assumedHeight }, { ratio })\r\n        return ratio\r\n    }\r\n    // const getSvgHeight = () => {\r\n    //     let ratio = getSvgHeightScale()\r\n    //     let newHeight = dimensions.HEIGHT * ratio\r\n    //     console.log({newHeight}, {dimensions})\r\n    //     return newHeight        \r\n    // }\r\n\r\n    const updateSvg = (frequencies, height = dimensions.HEIGHT, width = dimensions.WIDTH) => {\r\n        analyserRef.current.getByteFrequencyData(frequencies);\r\n        if (svgRef.current && frequencies.length) {\r\n            let _scale = getSvgHeightScale()\r\n            svgRef.current.selectAll('rect')\r\n                .data(frequencies)\r\n                .enter()\r\n                .append('rect')\r\n                .attr('fill', function (d) {\r\n                    return \"#000\"\r\n                })\r\n                .attr('width', width / frequencies.length - BAR_PADDING)\r\n                .attr('x', function (d, i) {\r\n                    return i * (width / frequencies.length);\r\n                })\r\n            svgRef.current.selectAll('rect')\r\n                .data(frequencies)\r\n                .attr('y', function (d, i) {\r\n                    return height - (d * _scale)\r\n                })\r\n                .attr('height', function (d, i) {\r\n                    return (d * _scale)\r\n                });\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (svgRef.current) {\r\n            let newStyle = coverArtUrl ? `background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.52), rgba(117, 118, 124, 0.78), url(${coverArtUrl}));` : 'background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.26), rgba(117, 118, 124, 0.39))'\r\n            console.log('changing style', newStyle)\r\n            svgRef.current.select('#' + canvasId)\r\n                .attr('style', newStyle)\r\n        }\r\n    }, [coverArtUrl])\r\n\r\n    const createSvg = (frequencies, height = dimensions.HEIGHT, width = dimensions.WIDTH) => {\r\n        if (!d3) console.warn(\"d3 is not found. Tarang may not behave as expected.\")\r\n        else {\r\n            // console.log(\"creating visualization graph \", { d3 })\r\n            if (!svgRef.current) {\r\n                svgRef.current = d3.select('#' + canvasId)\r\n                    .append('svg')\r\n                    .attr('height', height)\r\n                    .attr('width', width)\r\n                    .attr('class', 'my-1')\r\n                    .attr('style', coverArtUrl ? `background: liniear-gradient(to bottom, rgba(117, 118, 124, 0.52), rgba(53, 57, 64, 0.78), url(${coverArtUrl}));` : 'background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.26), rgba(117, 118, 124, 0.39))')\r\n                    .attr('id', \"bar_\" + canvasId + \"_\" + getNextId());\r\n            }\r\n\r\n            const updateFrequencyData = () => {\r\n                try {\r\n                    if (!audioRef.current || audioRef.current.paused) {\r\n                        cancelAnimationFrame(updateFrequencyData)\r\n                        // return;\r\n                    } else {\r\n                        requestAnimationFrame(updateFrequencyData)\r\n                        updateSvg(frequencies)\r\n                    }\r\n                } catch (error) {\r\n                    console.error(error)\r\n                }\r\n            }\r\n            updateFrequencyData()\r\n        }\r\n    }\r\n\r\n    // useEffect(updateSvg, [frequencyData])\r\n    const play = () => {\r\n        try {\r\n            setIsPlaying(true)\r\n            if (!audioContextRef.current) audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)()\r\n            let audio = new Audio(audioUrl)\r\n            audio.crossOrigin = \"anonymous\"\r\n\r\n            if (!audioSrcRef.current) audioSrcRef.current = audioContextRef.current.createMediaElementSource(audio)\r\n            else audioRef.current = audio\r\n            audioRef.current = audioSrcRef.current.mediaElement\r\n\r\n            audioRef.current.volume = volume\r\n            audioRef.current.load()\r\n            audioRef.current.play()\r\n            audioRef.current.onended = (event) => clearSvg()\r\n            analyserRef.current = audioContextRef.current.createAnalyser()\r\n\r\n            audioSrcRef.current.connect(analyserRef.current);\r\n            if (!muted) audioSrcRef.current.connect(audioContextRef.current.destination);\r\n\r\n            analyserRef.current.fftSize = dimensions.WIDTH;\r\n            const bufferLength = analyserRef.current.frequencyBinCount;\r\n            const frequencies = new Uint8Array(bufferLength);\r\n            analyserRef.current.getByteFrequencyData(frequencies);\r\n            // console.log({ frequencies })\r\n            createSvg(frequencies)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const stop = () => {\r\n        setIsPlaying(false)\r\n        audioRef.current.pause()\r\n        audioRef.current.currentTime = 0\r\n        clearSvg()\r\n    }\r\n\r\n    const focusIn = () => {\r\n        if (!isControlsVisible) {\r\n            if (!isPlaying) {\r\n                play()\r\n            }\r\n        }\r\n    }\r\n\r\n    const focusOut = () => {\r\n        if (!isControlsVisible) {\r\n            if (isPlaying) {\r\n                stop()\r\n            }\r\n        }\r\n    }\r\n\r\n    const toggleFocus = () => {\r\n        if (isPlaying) focusOut()\r\n        else focusIn()\r\n    }\r\n\r\n    return <>\r\n        <div\r\n            onMouseEnter={focusIn}\r\n            onFocus={focusIn}\r\n            onPointerEnter={focusIn}\r\n\r\n            // onTouch={toggleFocus}\r\n            // onClick={toggleFocus}\r\n\r\n            onMouseLeave={focusOut}\r\n            onBlur={focusOut}\r\n            onPointerLeave={focusIn}\r\n\r\n            style={{ top: 0, left: 0, width: dimensions.WIDTH, height: isControlsVisible ? (dimensions.HEIGHT + dimensions.CONTROLS_HEIGHT) : dimensions.HEIGHT, position: \"relative\", backgroundColor: \"#eeeeeeaa\" }}>\r\n            <div id={canvasId} style={{ \"flex\": 1, position: \"absolute\", top: 0, bottom: 0, left: 0, right: 0, overflow: 'hidden' }}>\r\n            </div>\r\n            {\r\n                isControlsVisible ?\r\n                    <div style={{ \"flex\": 1, position: \"absolute\", height: dimensions.CONTROLS_HEIGHT, bottom: 0, left: 0, right: 0 }} >\r\n                        <button onClick={play}>Play</button>\r\n                        <button onClick={stop}>Stop</button>\r\n                    </div> : <>\r\n                    </>\r\n            }\r\n        </div>\r\n    </>\r\n}","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport binaryFloor from \"../utils/binaryFloor\";\r\nimport constants from \"../constants\";\r\nconst initialDimensions = constants.DEFAULT_DIMENSIONS\r\nimport * as d3 from 'd3'\r\nimport idman from 'idman';\r\nconst { getNextId } = idman;\r\n\r\nexport default function Line({ audioUrl, coverArtUrl, width, height, controls = false, muted = false, volume = 0.8 }) {\r\n    // TODO: add state loaded. to check that the user has interacted with the page. so that the autoplay functionality can also be added in future\r\n    const [isPlaying, setIsPlaying] = useState(false)\r\n    const [canvasId, setCanvasId] = useState(getNextId())\r\n    const [dimensions, setDimensions] = useState(initialDimensions)\r\n    const [isControlsVisible, setIsControlsVisible] = useState(true)\r\n    const audioRef = useRef(new Audio())\r\n    const audioContextRef = useRef(null)\r\n    const audioSrcRef = useRef(null);\r\n    const analyserRef = useRef(null);\r\n    const svgRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        setIsControlsVisible(controls)\r\n    }, [controls])\r\n\r\n    useEffect(() => {\r\n        clearSvg()\r\n        if (!isNaN(width) && width != dimensions.WIDTH) {\r\n            setDimensions(newDimensions => {\r\n                return {\r\n                    ...newDimensions,\r\n                    WIDTH: binaryFloor(width)\r\n                }\r\n            });\r\n        }\r\n    }, [width])\r\n\r\n    useEffect(() => {\r\n        clearSvg()\r\n        if (!isNaN(height) && height != dimensions.HEIGHT) {\r\n            if (height > dimensions.CONTROLS_HEIGHT * 2) {\r\n                setDimensions(newDimensions => {\r\n                    return {\r\n                        ...newDimensions,\r\n                        HEIGHT: height\r\n                    }\r\n                });\r\n            } else {\r\n                setDimensions(newDimensions => {\r\n                    return {\r\n                        ...newDimensions,\r\n                        HEIGHT: dimensions.CONTROLS_HEIGHT * 2\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }, [height])\r\n\r\n    useEffect(() => {\r\n        if (audioSrcRef.current && audioContextRef.current) {\r\n            if (!muted) audioSrcRef.current.connect(audioContextRef.current.destination);\r\n            else audioSrcRef.current.disconnect(audioContextRef.current.destination);\r\n        }\r\n    }, [muted])\r\n\r\n    useEffect(() => {\r\n        audioRef.current.volume = volume\r\n    }, [volume])\r\n\r\n    const clearSvg = () => {\r\n        if (svgRef.current) svgRef.current.selectAll(\"*\").remove()\r\n        // console.log(\"clearing svg\")\r\n    }\r\n\r\n    const getSvgHeightScale = () => {\r\n        let assumedHeight = parseInt(dimensions.WIDTH * 0.5)\r\n        let ratio = Math.abs(dimensions.HEIGHT - assumedHeight) / assumedHeight\r\n        // console.log({ assumedHeight }, { ratio })\r\n        return ratio\r\n    }\r\n    // const getSvgHeight = () => {\r\n    //     let ratio = getSvgHeightScale()\r\n    //     let newHeight = dimensions.HEIGHT * ratio\r\n    //     console.log({newHeight}, {dimensions})\r\n    //     return newHeight        \r\n    // }\r\n\r\n\r\n    const updateSvg = (frequencies, height = dimensions.HEIGHT, width = dimensions.WIDTH) => {\r\n        let _scale = getSvgHeightScale()\r\n        analyserRef.current.getByteFrequencyData(frequencies);\r\n        if (svgRef.current && frequencies.length) {\r\n            clearSvg()\r\n            var lineFunc = d3.line()\r\n                .x(function (d, i) {\r\n                    return i * (width / frequencies.length);\r\n                })\r\n                .y(function (d) {\r\n                    return height - (d * _scale);\r\n                })\r\n            svgRef.current.append('path')\r\n                .attr('d', lineFunc(frequencies))\r\n                .attr('stroke', 'black')\r\n                .attr('fill', 'none')\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (svgRef.current) {\r\n            svgRef.current.select('#' + canvasId)\r\n                .attr('style', coverArtUrl ? `background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.52), rgba(117, 118, 124, 0.78), url(${coverArtUrl}));` : 'background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.26), rgba(117, 118, 124, 0.39))')\r\n        }\r\n    }, [coverArtUrl])\r\n\r\n    const createSvg = (frequencies, height = dimensions.HEIGHT, width = dimensions.WIDTH) => {\r\n        if (!d3) console.warn(\"d3 is not found. Tarang may not behave as expected.\")\r\n        else {\r\n            // console.log(\"creating visualization graph \", { d3 })\r\n            let background = coverArtUrl ? `background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.52), rgba(117, 118, 124, 0.78), url(${coverArtUrl}));` : 'background: liniear-gradient(to bottom, rgba(245, 246, 252, 0.26), rgba(117, 118, 124, 0.39))'\r\n            if (!svgRef.current) {\r\n                svgRef.current = d3.select('#' + canvasId)\r\n                    .append('svg')\r\n                    .attr('height', height)\r\n                    .attr('width', width)\r\n                    .attr('class', 'my-1')\r\n                    .attr('style', `${background}`)\r\n                    .attr('id', \"line_\" + canvasId + \"_\" + getNextId());\r\n            }\r\n\r\n            const updateFrequencyData = () => {\r\n                try {\r\n                    if (!audioRef.current || audioRef.current.paused) {\r\n                        cancelAnimationFrame(updateFrequencyData)\r\n                        // return;\r\n                    } else {\r\n                        requestAnimationFrame(updateFrequencyData)\r\n                        updateSvg(frequencies)\r\n                    }\r\n                } catch (error) {\r\n                    console.error(error)\r\n                }\r\n            }\r\n            updateFrequencyData()\r\n        }\r\n    }\r\n\r\n    // useEffect(updateSvg, [frequencyData])\r\n    const play = () => {\r\n        try {\r\n            setIsPlaying(true)\r\n            if (!audioContextRef.current) audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)()\r\n            let audio = new Audio(audioUrl)\r\n            audio.crossOrigin = \"anonymous\"\r\n\r\n            if (!audioSrcRef.current) audioSrcRef.current = audioContextRef.current.createMediaElementSource(audio)\r\n            else audioRef.current = audio\r\n\r\n            audioRef.current = audioSrcRef.current.mediaElement\r\n\r\n            audioRef.current.volume = volume\r\n            audioRef.current.load()\r\n            audioRef.current.play()\r\n            audioRef.current.onended = (event) => clearSvg()\r\n            analyserRef.current = audioContextRef.current.createAnalyser()\r\n\r\n            audioSrcRef.current.connect(analyserRef.current);\r\n            if (!muted) audioSrcRef.current.connect(audioContextRef.current.destination);\r\n\r\n            analyserRef.current.fftSize = dimensions.WIDTH;\r\n            const bufferLength = analyserRef.current.frequencyBinCount;\r\n            const frequencies = new Uint8Array(bufferLength);\r\n            analyserRef.current.getByteFrequencyData(frequencies);\r\n            // console.log({ frequencies })\r\n            createSvg(frequencies)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const stop = () => {\r\n        setIsPlaying(false)\r\n        audioRef.current.pause()\r\n        audioRef.current.currentTime = 0\r\n        clearSvg()\r\n    }\r\n\r\n    const focusIn = () => {\r\n        if (!isControlsVisible) {\r\n            if (!isPlaying) {\r\n                play()\r\n            }\r\n        }\r\n    }\r\n\r\n    const focusOut = () => {\r\n        if (!isControlsVisible) {\r\n            if (isPlaying) {\r\n                stop()\r\n            }\r\n        }\r\n    }\r\n\r\n    const toggleFocus = () => {\r\n        if (isPlaying) focusOut()\r\n        else focusIn()\r\n    }\r\n\r\n    return <>\r\n        <div\r\n            onMouseEnter={focusIn}\r\n            onFocus={focusIn}\r\n            onPointerEnter={focusIn}\r\n\r\n            // onTouch={toggleFocus}\r\n            // onClick={toggleFocus}\r\n\r\n            onMouseLeave={focusOut}\r\n            onBlur={focusOut}\r\n            onPointerLeave={focusIn}\r\n\r\n            style={{ top: 0, left: 0, width: dimensions.WIDTH, height: isControlsVisible ? (dimensions.HEIGHT + dimensions.CONTROLS_HEIGHT) : dimensions.HEIGHT, position: \"relative\", backgroundColor: \"#eeeeeeaa\" }}>\r\n            <div id={canvasId} style={{ \"flex\": 1, position: \"absolute\", top: 0, bottom: 0, left: 0, right: 0, overflow: 'hidden' }}>\r\n            </div>\r\n            {\r\n                isControlsVisible ?\r\n                    <div style={{ \"flex\": 1, position: \"absolute\", height: dimensions.CONTROLS_HEIGHT, bottom: 0, left: 0, right: 0 }} >\r\n                        <button onClick={play}>Play</button>\r\n                        <button onClick={stop}>Stop</button>\r\n                    </div> : <>\r\n                    </>\r\n            }\r\n        </div>\r\n    </>\r\n}","import binaryCeil from \"./lib/utils/binaryCeil\"\nimport binaryFloor from \"./lib/utils/binaryFloor\"\nimport constants from \"./lib/constants\"\n\nimport Bar from \"./lib/components/Bar\"\nimport Line from \"./lib/components/Line\"\n\nexport const Tarang = {\n  Bar,\n  Line,\n  utils: {\n    binaryCeil,\n    binaryFloor\n  },\n  ...constants\n}\n","function binaryCeil(number) {\n    let returnValue = 1\n    do {\n        returnValue = returnValue * 2;\n        number = number / 2;\n    } while (number / 2 > 0)\n    return returnValue;\n}\n\nexport default binaryCeil;","import React, { useState } from 'react'\n\n\nimport { Tarang } from 'tarang'\nimport 'tarang/dist/index.css'\n\nconst App = () => {\n  const initialSrcArray = [\n    {\n      audioUrl: \"https://tarang.surge.sh/audio/example.mp3\",\n      coverArtUrl: \"https://tarang.surge.sh/images/example-cover.png\"\n    }\n  ]\n\n  const DEFAULT_SRC = 0\n  const [srcArray, updateSrcArray] = useState([...initialSrcArray])\n  const [src, updateSrc] = useState(DEFAULT_SRC)\n  const [newUrl, setNewUrl] = useState('')\n  const [lineControlsVisible, setLineControlsVisible] = useState(true)\n  const [barControlsVisible, setBarControlsVisible] = useState(true)\n  const [lineAudioMuted, setLineAudioMuted] = useState(true)\n  const [barAudioMuted, setBarAudioMuted] = useState(true)\n  // const [lineDimensionsFormValues, setLineDimensionsFormValues] = useState(Tarang.DEFAULT_DIMENSIONS)\n  // const [barDimensionsFormValues, setBarDimensionsFormValues] = useState(Tarang.DEFAULT_DIMENSIONS)\n  const [lineDimensions, setLineDimensions] = useState(Tarang.DEFAULT_DIMENSIONS)\n  const [barDimensions, setBarDimensions] = useState(Tarang.DEFAULT_DIMENSIONS)\n  const [lineVisualizationUpdating, setLineVisualizationUpdating] = useState(false)\n  const [barVisualizationUpdating, setBarVisualizationUpdating] = useState(false)\n\n  const reset = () => { updateSrcArray([initialSrcArray[0]]); updateSrc(DEFAULT_SRC); setNewUrl(''); }\n  const setSrc = (index) => { updateSrc(index) }\n  const updateNewUrl = () => {\n    if (newUrl) {\n      updateSrcArray(srcArray.concat([{ audioUrl: newUrl, coverArtUrl: '#' }]))\n    }\n  }\n\n  const getFileName = (url) => {\n    let src = url.split(\"/\");\n    return src.length ? src[src.length - 1] : src;\n  }\n\n  // const updateLineVisualization = () => {\n  //   setLineVisualizationUpdating(true)\n  //   setLineDimensions(lineDimensionsFormValues)\n  //   setTimeout(() => {\n  //     setLineVisualizationUpdating(false)\n  //   }, [100])\n  // }\n\n  // const updateBarVisualization = () => {\n  //   setBarVisualizationUpdating(true)\n  //   setBarDimensions(barDimensionsFormValues)\n  //   setTimeout(() => {\n  //     setBarVisualizationUpdating(false)\n  //   }, [100])\n  // }\n\n  return (\n    <div className=\"App\">\n      <section>\n        <table>\n          <thead>\n            <tr>\n              <td>\n                <legend>Playlist</legend>\n                <table style={{ position: 'relative', width: \"400px\", height: \"fit-content\" }}>\n                  <tbody>\n                    {\n                      srcArray.map((srcItem, srcIndex) => <tr key={JSON.stringify(srcItem).length + \"_\" + srcIndex} style={{ \"textDecoration\": \"link\", \"cursor\": \"pointer\" }}>\n                        <td>\n                          <button onClick={() => setSrc(srcIndex)}>{getFileName(srcItem.audioUrl)}</button>\n                        </td>\n                      </tr>) || null\n                    }\n                    <tr>\n                      <td>\n                        <input style={{ width: \"90%\" }} type=\"url\" value={newUrl} onChange={(e) => setNewUrl(e.target.value)} placeholder=\"Enter mp3 url\" />\n                      </td>\n                      <td>\n                        <button type=\"button\" onClick={updateNewUrl}>Set</button>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td>\n                        <button onClick={reset}>Reset</button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <legend>Now Playing</legend>\n                <table style={{ position: 'relative', width: \"400px\", height: \"100px\", maxHeight: \"300px\", overflowY: \"scroll\" }}>\n                  <tbody>\n                    <tr>\n                      <th>\n                        {getFileName(srcArray[src].audioUrl)}\n                      </th>\n                    </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <legend>Virtualization as Line Graph</legend>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <label htmlFor=\"line-control\">Show Controls\n                          <input type=\"checkbox\" onChange={(e) => setLineControlsVisible(e.target.checked)} id=\"line-control\" checked={lineControlsVisible} />\n                        </label>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div style={{ position: 'relative' }}>\n                          {\n                            lineVisualizationUpdating ?\n                              null :\n                              <Tarang.Line\n                                width={lineDimensions.WIDTH}\n                                height={lineDimensions.HEIGHT}\n                                controls={lineControlsVisible}\n                                audioUrl={srcArray[src].audioUrl}\n                                coverArtUrl={srcArray[src].coverArtUrl}\n                              />\n                          }\n                        </div>\n                      </td>\n                    </tr>\n                    {/* <tr>\n                      <td>\n                        <div style={{ position: 'relative', display: \"flex\" }}>\n                          <input title=\"width of line type visualization\" type=\"number\" value={lineDimensionsFormValues.WIDTH} onChange={(e) => setLineDimensionsFormValues(dim => { return { ...dim, WIDTH: e.target.value } })} />\n                          <input title=\"height of line type visualization\" type=\"number\" value={lineDimensionsFormValues.HEIGHT} onChange={(e) => setLineDimensionsFormValues(dim => { return { ...dim, HEIGHT: e.target.value } })} />\n                          <input type=\"button\" onClick={updateLineVisualization} value=\"Set\" />\n                        </div>\n                      </td>\n                    </tr> */}\n                  </tbody>\n                </table>\n              </td>\n              <td>\n                <legend>Virtualization as Bar Graph</legend>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <label htmlFor=\"bar-control\">Show Controls\n                          <input type=\"checkbox\" onChange={(e) => setBarControlsVisible(e.target.checked)} id=\"bar-control\" checked={barControlsVisible} />\n                        </label>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div style={{ position: 'relative' }}>\n                          {\n                            barVisualizationUpdating ?\n                              null :\n                              <Tarang.Bar\n                                width={barDimensions.WIDTH}\n                                height={barDimensions.HEIGHT}\n                                controls={barControlsVisible}\n                                audioUrl={srcArray[src].audioUrl}\n                                coverArtUrl={srcArray[src].coverArtUrl}\n                              />\n                          }\n                        </div>\n                      </td>\n                    </tr>\n                    {/* <tr>\n                      <td>\n                        <div style={{ position: 'relative', display: \"flex\" }}>\n                          <input title=\"width of bar type visualization\" type=\"number\" value={barDimensionsFormValues.WIDTH} onChange={(e) => setBarDimensionsFormValues(dim => { return { ...dim, WIDTH: e.target.value } })} />\n                          <input title=\"height of bar type visualization\" type=\"number\" value={barDimensionsFormValues.HEIGHT} onChange={(e) => setBarDimensionsFormValues(dim => { return { ...dim, HEIGHT: e.target.value } })} />\n                          <input type=\"button\" onClick={updateBarVisualization} value=\"Set\" />\n                        </div>\n                      </td>\n                    </tr> */}\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <legend>Virtualization as Line Graph</legend>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <label htmlFor=\"line-control\">Show Controls\n                          <input type=\"checkbox\" onChange={(e) => setLineControlsVisible(e.target.checked)} id=\"line-control\" checked={lineControlsVisible} />\n                        </label>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div style={{ position: 'relative' }} title=\"height is halved\">\n                          {\n                            lineVisualizationUpdating ?\n                              null :\n                              <Tarang.Line\n                                width={lineDimensions.WIDTH}\n                                height={100}\n                                controls={lineControlsVisible}\n                                audioUrl={srcArray[src].audioUrl}\n                                coverArtUrl={srcArray[src].coverArtUrl}\n                              />\n                          }\n                        </div>\n                      </td>\n                    </tr>\n                    {/* <tr>\n                      <td>\n                        <div style={{ position: 'relative', display: \"flex\" }}>\n                          <input title=\"width of line type visualization\" type=\"number\" value={lineDimensionsFormValues.WIDTH} onChange={(e) => setLineDimensionsFormValues(dim => { return { ...dim, WIDTH: e.target.value } })} />\n                          <input title=\"height of line type visualization\" type=\"number\" value={lineDimensionsFormValues.HEIGHT} onChange={(e) => setLineDimensionsFormValues(dim => { return { ...dim, HEIGHT: e.target.value } })} />\n                          <input type=\"button\" onClick={updateLineVisualization} value=\"Set\" />\n                        </div>\n                      </td>\n                    </tr> */}\n                  </tbody>\n                </table>\n              </td>\n              <td>\n                <legend>Virtualization as Bar Graph</legend>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <label htmlFor=\"bar-control\">Show Controls\n                          <input type=\"checkbox\" onChange={(e) => setBarControlsVisible(e.target.checked)} id=\"bar-control\" checked={barControlsVisible} />\n                        </label>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div style={{ position: 'relative' }}>\n                          {\n                            barVisualizationUpdating ?\n                              null :\n                              <Tarang.Bar\n                                width={barDimensions.WIDTH}\n                                height={100}\n                                controls={barControlsVisible}\n                                audioUrl={srcArray[src].audioUrl}\n                                coverArtUrl={srcArray[src].coverArtUrl}\n                              />\n                          }\n                        </div>\n                      </td>\n                    </tr>\n                    {/* <tr>\n                      <td>\n                        <div style={{ position: 'relative', display: \"flex\" }}>\n                          <input title=\"width of bar type visualization\" type=\"number\" value={barDimensionsFormValues.WIDTH} onChange={(e) => setBarDimensionsFormValues(dim => { return { ...dim, WIDTH: e.target.value } })} />\n                          <input title=\"height of bar type visualization\" type=\"number\" value={barDimensionsFormValues.HEIGHT} onChange={(e) => setBarDimensionsFormValues(dim => { return { ...dim, HEIGHT: e.target.value } })} />\n                          <input type=\"button\" onClick={updateBarVisualization} value=\"Set\" />\n                        </div>\n                      </td>\n                    </tr> */}\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <legend>Virtualization as Line Graph (muted) </legend>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td style={{display: \"flex\"}}>\n                        <label htmlFor=\"line-control\">Show Controls\n                          <input type=\"checkbox\" onChange={(e) => setLineControlsVisible(e.target.checked)} id=\"line-control\" checked={lineControlsVisible} />\n                        </label>\n                        <label htmlFor=\"bar-control\">Mute Audio\n                          <input type=\"checkbox\" onChange={(e) => setLineAudioMuted(e.target.checked)} id=\"line-mute\" checked={lineAudioMuted} />\n                        </label>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div style={{ position: 'relative' }} title=\"height is halved\">\n                          {\n                            lineVisualizationUpdating ?\n                              null :\n                              <Tarang.Line\n                                width={lineDimensions.WIDTH}\n                                height={100}\n                                muted={lineAudioMuted}\n                                controls={lineControlsVisible}\n                                audioUrl={srcArray[src].audioUrl}\n                                coverArtUrl={srcArray[src].coverArtUrl}\n                              />\n                          }\n                        </div>\n                      </td>\n                    </tr>\n                    {/* <tr>\n                      <td>\n                        <div style={{ position: 'relative', display: \"flex\" }}>\n                          <input title=\"width of line type visualization\" type=\"number\" value={lineDimensionsFormValues.WIDTH} onChange={(e) => setLineDimensionsFormValues(dim => { return { ...dim, WIDTH: e.target.value } })} />\n                          <input title=\"height of line type visualization\" type=\"number\" value={lineDimensionsFormValues.HEIGHT} onChange={(e) => setLineDimensionsFormValues(dim => { return { ...dim, HEIGHT: e.target.value } })} />\n                          <input type=\"button\" onClick={updateLineVisualization} value=\"Set\" />\n                        </div>\n                      </td>\n                    </tr> */}\n                  </tbody>\n                </table>\n              </td>\n              <td>\n                <legend>Virtualization as Bar Graph (muted) </legend>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td style={{display: \"flex\"}}>\n                        <label htmlFor=\"bar-control\">Show Controls\n                          <input type=\"checkbox\" onChange={(e) => setBarControlsVisible(e.target.checked)} id=\"bar-control\" checked={barControlsVisible} />\n                        </label>\n                        <label htmlFor=\"bar-control\">Mute Audio\n                          <input type=\"checkbox\" onChange={(e) => setBarAudioMuted(e.target.checked)} id=\"bar-mute\" checked={barAudioMuted} />\n                        </label>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div style={{ position: 'relative' }}>\n                          {\n                            barVisualizationUpdating ?\n                              null :\n                              <Tarang.Bar\n                                width={barDimensions.WIDTH}\n                                height={100}\n                                muted={barAudioMuted}\n                                controls={barControlsVisible}\n                                audioUrl={srcArray[src].audioUrl}\n                                coverArtUrl={srcArray[src].coverArtUrl}\n                              />\n                          }\n                        </div>\n                      </td>\n                    </tr>\n                    {/* <tr>\n                      <td>\n                        <div style={{ position: 'relative', display: \"flex\" }}>\n                          <input title=\"width of bar type visualization\" type=\"number\" value={barDimensionsFormValues.WIDTH} onChange={(e) => setBarDimensionsFormValues(dim => { return { ...dim, WIDTH: e.target.value } })} />\n                          <input title=\"height of bar type visualization\" type=\"number\" value={barDimensionsFormValues.HEIGHT} onChange={(e) => setBarDimensionsFormValues(dim => { return { ...dim, HEIGHT: e.target.value } })} />\n                          <input type=\"button\" onClick={updateBarVisualization} value=\"Set\" />\n                        </div>\n                      </td>\n                    </tr> */}\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}